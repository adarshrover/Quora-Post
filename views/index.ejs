<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quora</title>
    <link rel="stylesheet" href="/style.css">
</head>

<div class="loader" id="loader"></div>

<body>
    <h1>Quora Posts</h1>
    <% for(let post of posts) { %>
      <div class="post">
        <h3 class="user"> @<%= post.username %></h3>
        <h4 class="content"><%= post.content  %></h4>
        <br>
        <a href="http://localhost:8080/posts/<%= post.id %>">See in Detail</a> &nbsp;
        <a href="http://localhost:8080/posts/<%= post.id %>/edit">Edit</a>
        &nbsp;
        <form method="post" action="/posts/<%= post.id%>?_method=DELETE">
        <button>Delete Post</button>
        </form>
      </div>
   <% } %> 

   <br> <br>
   <a href="http://localhost:8080/posts/new">Create New Post</a>
</body>

<script>
  const btn = document.createElement("button");
  btn.textContent = "Toggle Dark Mode";
  btn.className = "toggle-btn";
  btn.onclick = () => {
    document.body.classList.toggle("dark");
    localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
  };
  document.body.appendChild(btn);

  // Load saved mode
  if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark");
  }
</script>

</html>